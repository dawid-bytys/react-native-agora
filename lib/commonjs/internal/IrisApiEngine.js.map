{"version":3,"names":["_buffer","require","_base64Js","_interopRequireDefault","_eventemitter","_jsonBigint","_reactNative","_AgoraBaseImpl","_AgoraMediaBaseImpl","_IAgoraH265TranscoderImpl","_IAgoraMediaPlayerImpl","_IAgoraMediaPlayerSourceImpl","_IAgoraMusicContentCenterImpl","_IAgoraRtcEngineImpl","_specs","_AgoraH265TranscoderInternal","_AgoraMediaBaseInternal","_AgoraPipInternal","_MediaEngineInternal","_MediaPlayerInternal","_MediaRecorderInternal","_MusicContentCenterInternal","_RtcEngineExInternal","obj","__esModule","default","JSON","JSONBigInt","storeAsString","DeviceEventEmitter","EventEmitter","exports","AgoraEventEmitter","NativeEventEmitter","AgoraRtcNg","addListener","handleEvent","debuggable","setDebuggable","flag","isDebuggable","__DEV__","EVENT_TYPE","EVENT_PROCESSORS","IAudioFrameObserver","suffix","type","IMediaEngine","func","processIAudioFrameObserver","processIAudioFrameObserverBase","preprocess","event","data","buffers","audioFrame","buffer","handlers","MediaEngineInternal","_audio_frame_observers","IVideoFrameObserver","processIVideoFrameObserver","videoFrame","yBuffer","uBuffer","vBuffer","metadata_buffer","alphaBuffer","metaInfo","VideoFrameMetaInfoInternal","_video_frame_observers","IAudioSpectrumObserver","playerId","IRtcEngine","IMediaPlayer","processIAudioSpectrumObserver","RtcEngineExInternal","_audio_spectrum_observers","MediaPlayerInternal","get","IAudioEncodedFrameObserver","processIAudioEncodedFrameObserver","frameBuffer","_audio_encoded_frame_observers","IVideoEncodedFrameObserver","processIVideoEncodedFrameObserver","imageBuffer","_video_encoded_frame_observers","IMediaPlayerSourceObserver","processIMediaPlayerSourceObserver","_source_observers","IAudioPcmFrameSink","processIAudioPcmFrameSink","frame","data_","Array","from","IMediaPlayerVideoFrameObserver","processIMediaPlayerVideoFrameObserver","IMediaRecorderObserver","IMediaRecorder","processIMediaRecorderObserver","MediaRecorderInternal","_observers","nativeHandle","IMetadataObserver","processIMetadataObserver","metadata","_metadata_observer","IDirectCdnStreamingEventHandler","processIDirectCdnStreamingEventHandler","_direct_cdn_streaming_event_handler","IRtcEngineEventHandler","processIRtcEngineEventHandler","_event_handlers","IMusicContentCenterEventHandler","IMusicContentCenter","processIMusicContentCenterEventHandler","result","MusicCollectionInternal","MusicContentCenterInternal","IH265TranscoderObserver","IAgoraH265Transcoder","processIH265TranscoderObserver","H265TranscoderInternal","_h265_transcoder_observers","IFaceInfoObserver","processIFaceInfoObserver","_face_info_observers","AgoraPipStateChangedObserver","IAgoraPip","processAgoraPipObserver","AgoraPipInternal","_agora_pip_observers","_ref","console","info","_data","parse","e","_event","processor","Object","values","some","it","p","startsWith","undefined","reg","RegExp","replace","endsWith","includes","substring","indexOf","_buffers","map","value","Buffer","_processor$handlers","emitEvent","callIrisApi","funcName","params","push","base64","fromByteArray","_params$toJSON","mediaPlayerId","getMediaPlayerId","json","toJSON","call","_params$toJSON2","newIrisApiEngine","callApi","stringify","destroyIrisApiEngine","media_player","mediaRecorder","ret","retObj","error","log","warn","eventType","eventProcessor","emit"],"sourceRoot":"../../../src","sources":["internal/IrisApiEngine.ts"],"mappings":"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"}